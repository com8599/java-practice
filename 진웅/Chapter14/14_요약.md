## Chapter 14

### 자바에서 매우 중요한 예외
- 자바에서는 예상을 했든, 예상을 하지 않았건, 예외적인 일이 발생하게 되면 "예외"라는 것을 던져버린다.

### try-catch는 짝이다
- 예외의 첫줄에는 어떤 예외가 발생했다고 출력
- 가 다음 줄 부터는 앞에 탭(tab)을 주고 at으로 시작하는 스택 호출 추적 문장이 출력(스택 트레이스)
- try-catch에서 예외가 발생하지 않을 경우
  - try 내에 있는 모든 문장이 실행되고 try-catch 문장 이후의 내용이 실행된다.
- try-catch에서 예외가 발생하는 경우
  - try 내에서 예외가 발생한 이휴의 문장들은 실행되지 않는다.
  - catch 내에 있는 문장은 반드시 실행되고, try-catch 문장 이후의 내용이 실행된다.

### try-catch를 사용하면서 처음에 적응하기 힘든 변수 선언
- try 블록 내에서 선언한 변수를 catch에서 사용할 수 없다.
- 일반적으로 catch문장에서 사용할 변수에 대해서는 try 앞에 미리 선언해 놓는다.

### 무슨일이 생겨도 반드시 실행되어야 하는 finally
- finally 블록은 예외 발생 여부와 상관 없이 실행된다.

### 두 개 이상의 catch
- catch(예외의 종류를 명시) / 반드시 Exception e를 쓰는것은 아니다.
- 여러개의 catch 구문 사용이 가능하다.
- 모든 예외의 부모 클래스는 java.lang.Exception 클래스다.
- 부모클래스가 자식 클래스보다 먼저 catch를 하게 되면 안된다. 자식 클래스가 catch될 일이 없기때문에 runtime Exception 발생
- 마지막 catch 블록에는 Exception 클래스로 묶어주는 버릇을 들여 놓아야 안전한 프로그램이 될 수 있다.

### 예외의 종류는 세 가지다
- checked exception / error / runtime exception 혹은 unchecked exception
- error / runtime exception 혹은 unchecked exception 를 제외한 모든 예외는 checked exception이다.
- error
  - 자바 프로그램 밖에서 발생한 예외
  - error는 프로세스에 영향을 주고, Exception은 쓰레드에만 영향을 준다.
- runtime exception
  - 예외가 발생할 것을 미리 감지하지 못했을 때 발생한다.
  - 런타임 예외에 해당하는 모든 예외들은 RuntimeException을 확장한 예외들이다.
  - 컴파일시 체크를 하지 않기 때문에 unchecked exception이라고도 부른다.

### 모든 예외의 할아버지는 java.lang.Throwable 클래스다.
- getMessage()
  - 어떤 에외가 발생되었는지르르 확인할때 매우 유용
  - 별도의 예외 메시지를 사용자에게 보여주려고 할 때 좋음
- toString()
  - getMessage보다 더 자세하게 출력해 준다.
- printStackTrace()
  - 가장 첫 줄에는 예외 메시지를 출력하고, 두 번째 줄 부터는 예외가 발생하게 된 메소드들의 호출 관계(스택 트레이스)를 출력해 준다.
  - 개발할 때 주로 사용, 운영 시 꼭 필요한 곳에만 사용

### 예외를 던지는 throws
- 예외가 발생된 메소드를 호출한 메소드로 던진다.
- throws 하는 메소드를 호출하는 메소드에서 try-catch로 처리하는 것
- 메소드에서 두 가지 이상의 예외를 던져야 한다면 ','로 구분한다
- try 블록 내에서 예외를 발생시킬 경우 throw라는 예약어를 적어 준 뒤 예외 객체를 생성하거나, 생성되어 있는 객체를 명시해준다.
- throw한 예외 클래스가 catch 블록에 선언되어 있지 않거나, throws선언에 포함되어 있지 않으면 컴파일 에러가 발생한다.
- catch 블록에서 예외를 throw할 경우에도 메소드 선언의 trhows구문에 해당 예외가 정의되어 있어야만 한다. 

### 예외를 직접 만들기
- Exception을 처리하는 클래스라면 java.lang.Exception 클래스의 상속을 받는 것이 좋다.

### 자바 예외 처리 전략
- 실행시 발생할 확률이 높은 경우에는 RuntimeException을 상속받는 것이 좋다.
- 반드시 try-catch로 묶어줄 필요가 있을 경우에만 Exception 클래스를 확장한다.
- catch문 내에 아무런 작업 없이 공백을 놔두면 예외 분석이 어려워지므로 꼭 로그 처리와 같은 예외 처리를 해줘야만 한다.
